impl lang.bool
impl lang.unit

type Deferred a = Unit -> a

data Then a {
    then : (Deferred a) -> Else a
}

data Else a {
    else : (Deferred a) -> (Deferred a)
}

sig if : Bool -> Then
def if c =
    c fold { Then { a -> Else { a () } }
           { Then { Else { a -> a () } }
